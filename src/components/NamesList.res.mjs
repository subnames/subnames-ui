// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Icons from "./Icons.res.mjs";
import * as React from "react";
import * as Wagmi from "wagmi";
import * as Constants from "../Constants.res.mjs";
import * as OnChainOperations from "../OnChainOperations.res.mjs";
import * as RescriptReactRouter from "@rescript/react/src/RescriptReactRouter.res.mjs";

var UseAccount = {};

function NamesList(props) {
  var account = Wagmi.useAccount();
  var fn = function () {
    return [];
  };
  var match = React.useState(fn);
  var setNames = match[1];
  var names = match[0];
  var match$1 = React.useState(function () {
        return true;
      });
  var setLoading = match$1[1];
  React.useEffect((function () {
          var addr = account.address;
          if (addr !== undefined) {
            setLoading(function (param) {
                  return true;
                });
            OnChainOperations.getSubnames(addr).then(function (subnames) {
                  setNames(function (param) {
                        return subnames;
                      });
                  setLoading(function (param) {
                        return false;
                      });
                  return Promise.resolve();
                });
          }
          
        }), [account.address]);
  return React.createElement("div", {
              className: "p-8"
            }, React.createElement("div", {
                  className: "w-full max-w-xl mx-auto"
                }, React.createElement("div", {
                      className: "bg-white rounded-custom shadow-lg overflow-hidden"
                    }, React.createElement("div", {
                          className: "px-6 pt-4 pb-4 border-b border-gray-200 relative"
                        }, React.createElement("div", {
                              className: "text-lg"
                            }, "Your Names(Under Construction)"), React.createElement("button", {
                              className: "p-1 hover:bg-gray-100 rounded-full transition-colors absolute right-4 top-1/2 -translate-y-1/2",
                              onClick: (function (param) {
                                  RescriptReactRouter.push("/");
                                })
                            }, React.createElement(Icons.Close.make, {}))), match$1[0] ? React.createElement("div", {
                            className: "text-center py-4"
                          }, "Loading...") : (
                        names.length === 0 ? React.createElement("div", {
                                className: "text-center py-4 text-gray-500"
                              }, "You don't have any subnames yet") : React.createElement("div", {
                                className: "py-1"
                              }, names.map(function (name, index) {
                                    return React.createElement("div", undefined, React.createElement("div", {
                                                    className: "px-6 py-4"
                                                  }, React.createElement("div", {
                                                        className: "flex items-center justify-between"
                                                      }, React.createElement("div", undefined, React.createElement("p", {
                                                                className: "text-gray-700"
                                                              }, name + "." + Constants.sld), React.createElement("p", {
                                                                className: "text-sm text-gray-500 mt-1"
                                                              }, "Your name will expire in 10 days")), React.createElement("div", {
                                                            className: "flex gap-2"
                                                          }, React.createElement("button", {
                                                                className: "rounded-xl bg-white border border-zinc-300 px-3 py-1.5 text-sm font-medium text-zinc-800 hover:bg-zinc-50",
                                                                type: "button"
                                                              }, "Transfer"), React.createElement("button", {
                                                                className: "rounded-xl bg-white border border-zinc-300 px-3 py-1.5 text-sm font-medium text-zinc-800 hover:bg-zinc-50",
                                                                type: "button"
                                                              }, "Extend")))), index < (names.length - 1 | 0) ? React.createElement("div", {
                                                      className: "border-b border-gray-200 mx-6"
                                                    }) : null);
                                  }))
                      ))));
}

var make = NamesList;

export {
  UseAccount ,
  make ,
}
/* Icons Not a pure module */
